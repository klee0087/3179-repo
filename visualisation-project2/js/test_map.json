{
    "$schema": "https://vega.github.io/schema/vega/v5.json",
    "description": "A configurable map of countries of the world.",
    "width": 900,
    "height": 500,

    "data": [{
        "name": "data",
        "url": "https://raw.githubusercontent.com/klee0087/3179-repo/main/visualisation-project2/data/suicide-rates-1985-to-2015-dataset-cleaned-bubbleplot.csv",
        "format": {
            "type": "csv"
          }
      },{
        "name": "world",
        "url": "https://raw.githubusercontent.com/klee0087/3179-repo/main/visualisation-project2/js/ne_110m_admin_0_countries.topojson",
        "format": {
              "type": "topojson",
              "feature": "ne_110m_admin_0_countries"
            },
        "transform": [
            { "type": "lookup", "from": "data", "key": "country", "fields": ["properties.NAME_LONG"], "values": ["average_suicides_per_100k_pop"] }
      ]
      }],

      "projections": [
        {
          "name": "projection",
          "type": "equalEarth"
        }
      ],
      
      "scales": [
        {
          "name": "color",
          "type": "sequential",
          "domain": [0, 45],
          "range": {"scheme": "reds", "count": 7}
        }
      ],
    
      "legends": [
        {
          "fill": "color",
          "title": "Suicide cases"
        }
      ],

      "marks": [
        {
          "type": "shape",
          "from": {"data": "world"},
          "encode": {
            "enter": { "tooltip": [
              {"field": "average_suicides_per_100k_pop", "type": "quantitative", "format": ".2f", "title": "Avg Cases per 100k Population"}
          ]},
            "update": { "fill": {"scale": "color", "field": "average_suicides_per_100k_pop"} },
            "hover": { "fill": {"value": "red"} }
          },
          "transform": [
            { "type": "geoshape", "projection": "projection" }
          ]
        }
      ],
    
      "layer": []

  }
  